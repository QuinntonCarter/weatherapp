(this.webpackJsonpcapstone4redo=this.webpackJsonpcapstone4redo||[]).push([[0],{47:function(t,e,c){},48:function(t,e,c){"use strict";c.r(e);var a=c(0),o=c.n(a),n=c(23),s=c.n(n),r=c(2),l=c(11),i=c(14),d=c(3),m=c(8),u=c.n(m),b=c(7),x=c(1),f=o.a.createContext();function j(t){var e=Object(a.useState)({data:""}),c=Object(d.a)(e,2),o=c[0],n=c[1],s=Object(a.useState)({data:""}),l=Object(d.a)(s,2),i=l[0],m=l[1],j=Object(a.useState)(!1),h=Object(d.a)(j,2),g=h[0],p=h[1],O=Object(r.f)(),y=Object(a.useState)({}),v=Object(d.a)(y,2),w=v[0],N=v[1],C=Object(a.useState)(""),S=Object(d.a)(C,2),M=(S[0],S[1]),k=new Date,H=[];function D(t){var e=b.a.addDays(k,+t);return b.a.format(e,"dddd MM DD")}for(var F=0;F<=2;F++){var L=D(F);H.push(L)}return Object(a.useEffect)((function(){u.a.get("https://ipapi.co/json/").then((function(t){return u.a.get("http://api.weatherapi.com/v1/current.json?key=fdd79d1d2ca9485abab32815211205&q=".concat(t.data.city)).then((function(t){return n({data:t.data})})).catch((function(t){return console.log(t)}))})).catch((function(t){return console.log(t)})),u.a.get("https://ipapi.co/json/").then((function(t){return m({data:t.data})})).catch((function(t){return console.log(t)})),M(b.a.format(k,"dddd MM DD"))}),[]),Object(x.jsx)(f.Provider,{value:{now:k,ipData:i,autoLocation:o,getForecast:function(t){u.a.get("http://api.weatherapi.com/v1/forecast.json?key=fdd79d1d2ca9485abab32815211205&q=".concat(t,"&days=7&aqi=yes")).then((function(t){return N(t.data)})).catch((function(t){return console.log(t)})).finally((function(){O("/searchForecast")}))},searchedLocation:w,setSearchedLocation:N,setToggle:p,toggle:g,forecastDays:H},children:t.children})}function h(t){var e=Object(a.useContext)(f),c=e.autoLocation,o=e.forecastDays,n=e.getForecast,s=e.ipData,r=t.timeStyle,m=t.tempStyle,u=Object(a.useState)({location:""}),b=Object(d.a)(u,2),j=b[0],h=b[1];function g(t){t.preventDefault(),n(j.location)}return Object(x.jsxs)("form",{onSubmit:g,className:"font-sans flex rounded-lg p-3 flex-col bg-".concat(r().bgColor," bg-opacity-60 m-auto"),children:[Object(x.jsx)("h1",{className:"text-xl pb-3",children:Object(x.jsx)("i",{className:"".concat(r().icon," ").concat(m())})}),Object(x.jsx)("input",{required:!0,className:"bg-gray-200 text-xs rounded-xl m-2 p-3 h-10 text-center text-black mx-auto",name:"location",value:j.location,onChange:function(t){var e=t.target,c=e.name,a=e.value;h((function(t){return Object(i.a)(Object(i.a)({},t),{},Object(l.a)({},c,a))}))},placeholder:"enter city or zip code"}),Object(x.jsx)("button",{className:"font-medium text-sm shadow hover:bg-".concat(r().btnColorH," text-white bg-").concat(r().btnColor," p-1 w-auto rounded-full"),onClick:function(){return j.location.length>0?g:null},children:" check forecast "}),c.data?Object(x.jsxs)("div",{className:"m-4 flex flex-col mx-auto place-items-center",children:[Object(x.jsxs)("h2",{className:"font-medium text-lg",children:[" ",o[0]," "]}),Object(x.jsxs)("h1",{className:"font-medium text-md",children:[" ","".concat(s.data.city,", ").concat(s.data.region,", ").concat(s.data.country)," "]}),Object(x.jsxs)("h2",{className:"font-bold",style:{fontSize:"250%"},children:[" ",Math.floor(c.data.current.temp_f),"\u02daF"]}),Object(x.jsx)("img",{className:"font-medium",src:c.data.current.condition.icon,alt:"condition visual"}),Object(x.jsxs)("h3",{className:"font-medium text-md",children:[" ",c.data.current.condition.text]}),Object(x.jsxs)("h4",{children:[" Humidity: ",c.data.current.humidity,"% "]})]}):Object(x.jsxs)("div",{className:"bg-blue-600",children:[Object(x.jsx)("svg",{className:"animate-spin h-5 w-5 mr-3 ...",viewBox:"0 0 24 24"}),"Loading"]})]})}var g=c(6);function p(t){var e=Object(a.useContext)(f),c=e.searchedLocation,o=e.setSearchedLocation,n=e.forecastDays,s=t.timeStyle,r=t.timedFont;return console.log(c),Object(x.jsx)("div",{className:"flex rounded-lg text-".concat(r," max-w-40 w-40 font-sans flex-col p-2 bg-").concat(s().bgColor," bg-opacity- bg-gradient-to-b from-yellow-200 via-yellow-400 to-yellow-700 h-auto m-auto"),children:c.location?Object(x.jsxs)("div",{className:"flex flex-col mx-auto",children:[Object(x.jsxs)("h1",{className:"p-1 text-black font-medium text-xs",children:[" ","".concat(c.location.name,", ").concat(c.location.region,", ").concat(c.location.country)," "]}),Object(x.jsxs)("span",{className:"flex flex-col w-full rounded bg-gray-700  place-items-center mx-auto bg-opacity-60",children:[Object(x.jsxs)("h2",{className:"font-medium text-md",children:[" ",n[0]," "]}),Object(x.jsxs)("h1",{className:"font-bold text-lg",children:[" ",Math.floor(c.current.temp_f),"\u02da "]}),Object(x.jsx)("img",{className:"mx-0",src:c.current.condition.icon,alt:"condition description"}),Object(x.jsxs)("h2",{className:"text-md",children:[" ",c.current.condition.text," "]}),Object(x.jsxs)("h3",{className:"text-sm",children:[" Humidity: ",c.current.humidity,"% "]})]}),Object(x.jsxs)("span",{className:"flex flex-col mx-auto place-items-center",children:[Object(x.jsxs)("h3",{className:"font-medium text-md",children:[" ",n[1]," "]}),Object(x.jsxs)("h2",{className:"font-bold text-md",children:[" ",Math.floor(c.forecast.forecastday[1].day.avgtemp_f),"\u02da "]}),Object(x.jsx)("img",{src:c.forecast.forecastday[1].day.condition.icon,alt:"condition visual"}),Object(x.jsxs)("h4",{className:"font-medium text-sm",children:[" ",c.forecast.forecastday[1].day.condition.text," "]})]}),Object(x.jsxs)("span",{className:"flex flex-col mx-auto place-items-center",children:[Object(x.jsxs)("h3",{className:"font-medium text-md",children:[" ",n[2]," "]}),Object(x.jsxs)("h2",{className:"font-bold text-md",children:[" ",Math.floor(c.forecast.forecastday[2].day.avgtemp_f),"\u02da "]}),Object(x.jsx)("img",{src:c.forecast.forecastday[2].day.condition.icon,alt:"condition visual"}),Object(x.jsxs)("h4",{className:"font-medium text-sm",children:[" ",c.forecast.forecastday[2].day.condition.text," "]})]}),Object(x.jsx)(g.b,{to:"/",children:Object(x.jsx)("button",{className:"flex text-xs m-2 mx-auto shadow hover:bg-gray-700 text-white bg-gray-600 p-2 rounded-full",onClick:function(){return o("")},children:" new location "})})]}):Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("h2",{children:" Loading ... "}),Object(x.jsx)(g.b,{to:"/",children:Object(x.jsx)("button",{className:"font-medium m-2 shadow hover:bg-gray-700 text-white bg-gray-500 p-3 rounded-full",onClick:function(){return o("")},children:" new location "})})]})})}function O(){var t=Object(a.useContext)(f),e=t.now,c=t.autoLocation,o=b.a.format(e,"HH:mm"),n=function(){return o>"06:00"&o<"17:45"?{img:"https://images.unsplash.com/photo-1610736702440-9dfab24cd7da?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxzZWFyY2h8MXx8Y2xvdWRzJTIwaW4lMjBza3l8ZW58MHx8MHx8&w=1000&q=80",textColor:"black"}:o>"17:46"&o<"18:59"?{img:"https://i.pinimg.com/736x/0b/86/0d/0b860d32fc7b0bff00ac320137305e8f.jpg",textColor:"white"}:{img:"https://media.istockphoto.com/videos/thunderstorm-clouds-at-night-with-lightning-4k-timelapse-loop-video-id875093832?s=640x640",textColor:"white"}},s=function(){return!!c.data&&Math.floor(c.data.current.temp_f)<=35?"far fa-snowflake":""},l=function(){var t=b.a.format(e,"HH:mm");return t>"06:00"&t<"11:59"?{icon:"fas fa-sun text-yellow-400 opacity-80",bgColor:"white",btnColor:"blue-200",btnColorH:"blue-500"}:t>"12:00"&t<"14:49"?{icon:"fas fa-sun text-yellow-500 opacity-80",bgColor:"white",btnColor:"blue-200",btnColorH:"blue-500"}:t>"17:46"&t<"18:59"?{icon:"fas fa-sun text-yellow-600 opacity-80",bgColor:"gray-200",btnColor:"blue-500",btnColorH:"blue-700"}:{icon:"far fa-moon text-blue-900 opacity-70",bgColor:"gray-200",btnColor:"blue-600",btnColorH:"blue-700"}};return Object(x.jsxs)("div",{style:{backgroundImage:"url(".concat(n().img,")")},className:"flex h-screen bg-cover bg-center flex-col items-center object-fit-cover text-center text-".concat(n().textColor," justify-center h-auto border-solid border-8 border-white"),children:[Object(x.jsx)("i",{className:"fas fa-umbrella text-".concat(n().textColor," text-xl pt-6 mx-auto")}),Object(x.jsxs)(r.c,{children:[Object(x.jsx)(r.a,{path:"/",element:Object(x.jsx)(h,{timeStyle:l,timedFont:n().textColor,tempStyle:s})}),Object(x.jsx)(r.a,{path:"/searchForecast",element:Object(x.jsx)(p,{timeStyle:l,tempStyle:s})})]})]})}c(47);s.a.render(Object(x.jsx)(g.a,{children:Object(x.jsx)(j,{children:Object(x.jsx)(O,{})})}),document.getElementById("root"))}},[[48,1,2]]]);
//# sourceMappingURL=main.a603268e.chunk.js.map